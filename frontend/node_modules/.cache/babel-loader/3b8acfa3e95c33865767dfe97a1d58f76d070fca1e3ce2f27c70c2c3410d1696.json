{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport http from \"../../http-common\";\nexport default {\n  props: [\"attestationBookForSemester\", \"student\"],\n  data() {\n    return {\n      Marks: {}\n    };\n  },\n  methods: {\n    updateAttestationBook(el) {\n      var data = {\n        mark: this.Marks[el.id],\n        attestation_book_id: el.id\n      };\n      http.post(`/updateAttestationBook/studentId=${this.student.id}`, data).then(() => {\n        this.$router.push(`/attestationBook/studentId=${this.student.id}`);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","props","data","Marks","methods","updateAttestationBook","el","mark","id","attestation_book_id","post","student","then","$router","push","catch","e","console","log"],"sources":["X:\\Downoloads\\SecondProject\\SecondProject\\frontend\\src\\components\\attestationBook\\SessionTable.vue"],"sourcesContent":["<template>\r\n    <form @sumbit.prevent=\"updateAttestationBook\">\r\n      <table border=\"1\" class=\"table table-bordered mt-3\">\r\n        <thead class=\"table-primary\">\r\n        <tr>\r\n          <th>№</th>\r\n          <th>Дисциплина</th>\r\n          <th>Оценка</th>\r\n          <th>Дата</th>\r\n          <th>Преподаватель</th>\r\n          <th>Форма отчётности</th>\r\n          <th>Действие</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(el, index) in attestationBookForSemester\" :key=\"el.id\">\r\n          <td>{{ index + 1 }}</td>\r\n          <td>{{ el.discipline_name }}</td>\r\n          <td>\r\n            <span v-if=\"el.mark\">{{ el.mark }}</span>\r\n            <input\r\n                v-else\r\n                name=\"mark\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                step=\"1\"\r\n                class=\"form-control\"     \r\n                v-model=\"Marks[el.id]\"        \r\n            />\r\n          </td>\r\n          <td>{{ el.mark_date }}</td>\r\n          <td>{{ el.name }}</td>\r\n          <td>\r\n            {{ el.report_type_name }}\r\n          </td>\r\n          <td>\r\n            <button v-if=\"Marks[el.id] !== undefined\" type=\"submit\" class=\"btn btn-success\" @click=\"updateAttestationBook(el)\">\r\n              Записать оценку\r\n            </button>\r\n            <input\r\n                type=\"hidden\"\r\n                name=\"attestation_book_id\"\r\n                :value=\"el.id\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </template>\r\n  \r\n  <script>\r\n  import http from \"../../http-common\";\r\n  export default {\r\n    props: [\"attestationBookForSemester\", \"student\"],\r\n    data() {\r\n      return {\r\n        Marks: {}\r\n      };\r\n    },\r\n    methods: {\r\n      updateAttestationBook(el) {\r\n        var data = {\r\n          mark: this.Marks[el.id],\r\n          attestation_book_id: el.id\r\n        };\r\n        http  \r\n          .post(`/updateAttestationBook/studentId=${this.student.id}`, data)\r\n          .then(() => {\r\n            this.$router.push(`/attestationBook/studentId=${this.student.id}`)\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          })\r\n      }\r\n    }\r\n  };\r\n  </script>"],"mappings":";AAqDE,OAAOA,IAAG,MAAO,mBAAmB;AACpC,eAAe;EACbC,KAAK,EAAE,CAAC,4BAA4B,EAAE,SAAS,CAAC;EAChDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,CAAC;IACV,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,qBAAqBA,CAACC,EAAE,EAAE;MACxB,IAAIJ,IAAG,GAAI;QACTK,IAAI,EAAE,IAAI,CAACJ,KAAK,CAACG,EAAE,CAACE,EAAE,CAAC;QACvBC,mBAAmB,EAAEH,EAAE,CAACE;MAC1B,CAAC;MACDR,IAAG,CACAU,IAAI,CAAE,oCAAmC,IAAI,CAACC,OAAO,CAACH,EAAG,EAAC,EAAEN,IAAI,EAChEU,IAAI,CAAC,MAAM;QACV,IAAI,CAACC,OAAO,CAACC,IAAI,CAAE,8BAA6B,IAAI,CAACH,OAAO,CAACH,EAAG,EAAC;MACnE,CAAC,EACAO,KAAK,CAACC,CAAA,IAAK;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MAChB,CAAC;IACL;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}