{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport http from \"../../http-common\";\nexport default {\n  name: \"Quiz\",\n  data() {\n    return {\n      quiz: {},\n      // Объект викторины\n      questions: [],\n      // Вопросы викторины\n      currentQuestionIndex: 0,\n      // Индекс текущего вопроса\n      answers: [],\n      // Ответы пользователя\n      shuffledAnswers: [] // Перемешанные ответы\n    };\n  },\n  computed: {\n    currentQuestion() {\n      return this.questions[this.currentQuestionIndex]; // Получаем текущий вопрос\n    }\n  },\n  methods: {\n    // Получение данных викторины\n    fetchQuiz() {\n      const quizId = this.$route.params.id; // Получаем ID викторины из параметров маршрута\n      http.get(`/getQuiz/${quizId}`).then(response => {\n        this.quiz = response.data.quiz;\n        this.questions = response.data.questions;\n        this.shuffleAnswers();\n      }).catch(error => {\n        console.log(\"Ошибка при получении викторины: \", error);\n      });\n    },\n    // Перемешивание ответов текущего вопроса\n    shuffleAnswers() {\n      if (this.currentQuestion) {\n        this.shuffledAnswers = this.currentQuestion.answers.sort(() => Math.random() - 0.5);\n      }\n    },\n    // Выбор ответа\n    selectAnswer(answer) {\n      this.answers.push({\n        questionId: this.currentQuestion.id,\n        userAnswer: answer,\n        isCorrect: answer.isCorrect // Предполагаем, что есть поле isCorrect в ответе\n      });\n      this.currentQuestionIndex++;\n      this.shuffleAnswers(); // Перемешиваем ответы для следующего вопроса\n    },\n    // Завершение викторины\n    finishQuiz() {\n      // Здесь можно сохранить результаты в базу данных\n      const results = {\n        quizId: this.quiz.id,\n        answers: this.answers\n      };\n      http.post(\"/submitResults\", results).then(() => {\n        alert(\"Результаты успешно сохранены!\");\n        this.$router.push(\"/allQuizzes\"); // Возвращаем на страницу викторин\n      }).catch(error => {\n        console.log(\"Ошибка при сохранении результатов: \", error);\n      });\n    }\n  },\n  mounted() {\n    this.fetchQuiz(); // Получаем данные викторины при монтировании компонента\n  }\n};","map":{"version":3,"names":["http","name","data","quiz","questions","currentQuestionIndex","answers","shuffledAnswers","computed","currentQuestion","methods","fetchQuiz","quizId","$route","params","id","get","then","response","shuffleAnswers","catch","error","console","log","sort","Math","random","selectAnswer","answer","push","questionId","userAnswer","isCorrect","finishQuiz","results","post","alert","$router","mounted"],"sources":["X:\\Downoloads\\SecondProject\\SecondProject\\frontend\\src\\components\\quiz\\Quiz.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h3 class=\"text-center mb-4\">{{ quiz.name }}</h3>\r\n      <div v-if=\"currentQuestion\">\r\n        <div class=\"question\">\r\n          <h5>{{ currentQuestion.text }}</h5>\r\n        </div>\r\n        <div class=\"answers\">\r\n          <div\r\n            v-for=\"(answer, index) in shuffledAnswers\"\r\n            :key=\"index\"\r\n            class=\"btn btn-outline-primary my-1\"\r\n            @click=\"selectAnswer(answer)\"\r\n          >\r\n            {{ answer.text }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <p>Викторина завершена!</p>\r\n        <button class=\"btn btn-primary\" @click=\"finishQuiz\">Завершить</button>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import http from \"../../http-common\";\r\n  \r\n  export default {\r\n    name: \"Quiz\",\r\n    data() {\r\n      return {\r\n        quiz: {}, // Объект викторины\r\n        questions: [], // Вопросы викторины\r\n        currentQuestionIndex: 0, // Индекс текущего вопроса\r\n        answers: [], // Ответы пользователя\r\n        shuffledAnswers: [] // Перемешанные ответы\r\n      };\r\n    },\r\n    computed: {\r\n      currentQuestion() {\r\n        return this.questions[this.currentQuestionIndex]; // Получаем текущий вопрос\r\n      }\r\n    },\r\n    methods: {\r\n      // Получение данных викторины\r\n      fetchQuiz() {\r\n        const quizId = this.$route.params.id; // Получаем ID викторины из параметров маршрута\r\n        http.get(`/getQuiz/${quizId}`)\r\n          .then(response => {\r\n            this.quiz = response.data.quiz;\r\n            this.questions = response.data.questions;\r\n            this.shuffleAnswers();\r\n          })\r\n          .catch(error => {\r\n            console.log(\"Ошибка при получении викторины: \", error);\r\n          });\r\n      },\r\n  \r\n      // Перемешивание ответов текущего вопроса\r\n      shuffleAnswers() {\r\n        if (this.currentQuestion) {\r\n          this.shuffledAnswers = this.currentQuestion.answers.sort(() => Math.random() - 0.5);\r\n        }\r\n      },\r\n  \r\n      // Выбор ответа\r\n      selectAnswer(answer) {\r\n        this.answers.push({\r\n          questionId: this.currentQuestion.id,\r\n          userAnswer: answer,\r\n          isCorrect: answer.isCorrect // Предполагаем, что есть поле isCorrect в ответе\r\n        });\r\n        this.currentQuestionIndex++;\r\n        this.shuffleAnswers(); // Перемешиваем ответы для следующего вопроса\r\n      },\r\n  \r\n      // Завершение викторины\r\n      finishQuiz() {\r\n        // Здесь можно сохранить результаты в базу данных\r\n        const results = {\r\n          quizId: this.quiz.id,\r\n          answers: this.answers\r\n        };\r\n        http.post(\"/submitResults\", results)\r\n          .then(() => {\r\n            alert(\"Результаты успешно сохранены!\");\r\n            this.$router.push(\"/allQuizzes\"); // Возвращаем на страницу викторин\r\n          })\r\n          .catch(error => {\r\n            console.log(\"Ошибка при сохранении результатов: \", error);\r\n          });\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchQuiz(); // Получаем данные викторины при монтировании компонента\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .question {\r\n    margin-bottom: 20px;\r\n  }\r\n  .answers {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  </style>\r\n  "],"mappings":";AA0BE,OAAOA,IAAG,MAAO,mBAAmB;AAEpC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC,CAAC;MAAE;MACVC,SAAS,EAAE,EAAE;MAAE;MACfC,oBAAoB,EAAE,CAAC;MAAE;MACzBC,OAAO,EAAE,EAAE;MAAE;MACbC,eAAe,EAAE,EAAC,CAAE;IACtB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,eAAeA,CAAA,EAAG;MAChB,OAAO,IAAI,CAACL,SAAS,CAAC,IAAI,CAACC,oBAAoB,CAAC,EAAE;IACpD;EACF,CAAC;EACDK,OAAO,EAAE;IACP;IACAC,SAASA,CAAA,EAAG;MACV,MAAMC,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE;MACtCf,IAAI,CAACgB,GAAG,CAAE,YAAWJ,MAAO,EAAC,EAC1BK,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACf,IAAG,GAAIe,QAAQ,CAAChB,IAAI,CAACC,IAAI;QAC9B,IAAI,CAACC,SAAQ,GAAIc,QAAQ,CAAChB,IAAI,CAACE,SAAS;QACxC,IAAI,CAACe,cAAc,CAAC,CAAC;MACvB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEF,KAAK,CAAC;MACxD,CAAC,CAAC;IACN,CAAC;IAED;IACAF,cAAcA,CAAA,EAAG;MACf,IAAI,IAAI,CAACV,eAAe,EAAE;QACxB,IAAI,CAACF,eAAc,GAAI,IAAI,CAACE,eAAe,CAACH,OAAO,CAACkB,IAAI,CAAC,MAAMC,IAAI,CAACC,MAAM,CAAC,IAAI,GAAG,CAAC;MACrF;IACF,CAAC;IAED;IACAC,YAAYA,CAACC,MAAM,EAAE;MACnB,IAAI,CAACtB,OAAO,CAACuB,IAAI,CAAC;QAChBC,UAAU,EAAE,IAAI,CAACrB,eAAe,CAACM,EAAE;QACnCgB,UAAU,EAAEH,MAAM;QAClBI,SAAS,EAAEJ,MAAM,CAACI,SAAQ,CAAE;MAC9B,CAAC,CAAC;MACF,IAAI,CAAC3B,oBAAoB,EAAE;MAC3B,IAAI,CAACc,cAAc,CAAC,CAAC,EAAE;IACzB,CAAC;IAED;IACAc,UAAUA,CAAA,EAAG;MACX;MACA,MAAMC,OAAM,GAAI;QACdtB,MAAM,EAAE,IAAI,CAACT,IAAI,CAACY,EAAE;QACpBT,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;MACDN,IAAI,CAACmC,IAAI,CAAC,gBAAgB,EAAED,OAAO,EAChCjB,IAAI,CAAC,MAAM;QACVmB,KAAK,CAAC,+BAA+B,CAAC;QACtC,IAAI,CAACC,OAAO,CAACR,IAAI,CAAC,aAAa,CAAC,EAAE;MACpC,CAAC,EACAT,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEF,KAAK,CAAC;MAC3D,CAAC,CAAC;IACN;EACF,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC3B,SAAS,CAAC,CAAC,EAAE;EACpB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}