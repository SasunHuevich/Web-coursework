{"ast":null,"code":"import http from \"../../http-common\";\nexport default {\n  name: \"CreateQuiz\",\n  data() {\n    return {\n      quiz: {\n        name: '',\n        description: '',\n        user_id: '',\n        image: null\n      },\n      successMessage: '',\n      errorMessage: ''\n    };\n  },\n  methods: {\n    handleImageUpload(event) {\n      this.quiz.image = event.target.files[0]; // сохраняем загруженное изображение\n    },\n    addQuiz(e) {\n      e.preventDefault(); // запрещаем отправку формы\n      const formData = new FormData();\n      formData.append('name', this.quiz.name);\n      formData.append('description', this.quiz.description);\n      //formData.append('image', this.quiz.image); // добавляем изображение\n\n      http.post(\"/addQuiz\", formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        this.quiz.id = response.data.id;\n        this.successMessage = 'Викторина успешно создана!';\n        this.resetForm();\n      }).catch(error => {\n        this.errorMessage = 'Ошибка при создании викторины: ' + error.message;\n      });\n    },\n    resetForm() {\n      this.quiz = {\n        name: '',\n        description: '',\n        user_id: '',\n        image: null\n      };\n      this.successMessage = '';\n      this.errorMessage = '';\n    }\n  }\n};","map":{"version":3,"names":["http","name","data","quiz","description","user_id","image","successMessage","errorMessage","methods","handleImageUpload","event","target","files","addQuiz","e","preventDefault","formData","FormData","append","post","headers","then","response","id","resetForm","catch","error","message"],"sources":["X:\\Downoloads\\SecondProject\\SecondProject\\frontend\\src\\components\\quiz\\AddQuiz.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n      <h1 class=\"mb-4\">Создать новую викторину</h1>\r\n\r\n      <form @submit.prevent=\"addQuiz\" enctype=\"multipart/form-data\">\r\n          <div class=\"form-group mt-3\">\r\n              <label for=\"title\">Название</label>\r\n              <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  v-model=\"quiz.name\"\r\n                  placeholder=\"Введите название\"\r\n                  required\r\n              />\r\n          </div>\r\n\r\n          <div class=\"form-group mt-3\">\r\n              <label for=\"description\">Описание</label>\r\n              <textarea\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  v-model=\"quiz.description\"\r\n                  placeholder=\"Введите описание\"\r\n                  required\r\n              ></textarea>\r\n          </div>\r\n\r\n          <div class=\"form-group1 mt-3\">\r\n              <label for=\"image\">Изображение викторины</label>\r\n          </div>\r\n      \r\n          <div class=\"form-group\">\r\n              <input\r\n                  type=\"file\"\r\n                  class=\"form-control-file\"\r\n                  id=\"image\"\r\n                  @change=\"handleImageUpload\"\r\n                  accept=\"image/*\"\r\n                  required\r\n              />\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn btn-primary mt-4\">Create Quiz</button>\r\n\r\n          <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">{{ successMessage }}</div>\r\n          <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"../../http-common\";\r\nexport default {\r\n  name: \"CreateQuiz\",\r\n  data() {\r\n      return {\r\n          quiz: {\r\n              name: '',\r\n              description: '',\r\n              user_id: '',\r\n              image: null\r\n          },\r\n          successMessage: '',\r\n          errorMessage: ''\r\n      };\r\n  },\r\n  methods: {\r\n      handleImageUpload(event) {\r\n          this.quiz.image = event.target.files[0]; // сохраняем загруженное изображение\r\n      },\r\n\r\n      addQuiz(e) {\r\n          e.preventDefault(); // запрещаем отправку формы\r\n          const formData = new FormData();\r\n          formData.append('name', this.quiz.name);\r\n          formData.append('description', this.quiz.description);\r\n          //formData.append('image', this.quiz.image); // добавляем изображение\r\n\r\n          http\r\n              .post(\"/addQuiz\", formData, {\r\n                  headers: {\r\n                      'Content-Type': 'multipart/form-data'\r\n                  }\r\n              })\r\n              .then(response => {\r\n                  this.quiz.id = response.data.id;\r\n                  this.successMessage = 'Викторина успешно создана!';\r\n                  this.resetForm();\r\n              })\r\n              .catch(error => {\r\n                  this.errorMessage = 'Ошибка при создании викторины: ' + error.message;\r\n              });\r\n      },\r\n\r\n      resetForm() {\r\n          this.quiz = {\r\n              name: '',\r\n              description: '',\r\n              user_id: '',\r\n              image: null\r\n          };\r\n          this.successMessage = '';\r\n          this.errorMessage = '';\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"AAoDA,OAAOA,IAAG,MAAO,mBAAmB;AACpC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFF,IAAI,EAAE,EAAE;QACRG,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE;MACX,CAAC;MACDC,cAAc,EAAE,EAAE;MAClBC,YAAY,EAAE;IAClB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,iBAAiBA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACR,IAAI,CAACG,KAAI,GAAIK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;IAC7C,CAAC;IAEDC,OAAOA,CAACC,CAAC,EAAE;MACPA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE;MACpB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAChB,IAAI,CAACF,IAAI,CAAC;MACvCgB,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAAChB,IAAI,CAACC,WAAW,CAAC;MACrD;;MAEAJ,IAAG,CACEoB,IAAI,CAAC,UAAU,EAAEH,QAAQ,EAAE;QACxBI,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACpB,IAAI,CAACqB,EAAC,GAAID,QAAQ,CAACrB,IAAI,CAACsB,EAAE;QAC/B,IAAI,CAACjB,cAAa,GAAI,4BAA4B;QAClD,IAAI,CAACkB,SAAS,CAAC,CAAC;MACpB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACZ,IAAI,CAACnB,YAAW,GAAI,iCAAgC,GAAImB,KAAK,CAACC,OAAO;MACzE,CAAC,CAAC;IACV,CAAC;IAEDH,SAASA,CAAA,EAAG;MACR,IAAI,CAACtB,IAAG,GAAI;QACRF,IAAI,EAAE,EAAE;QACRG,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE;MACX,CAAC;MACD,IAAI,CAACC,cAAa,GAAI,EAAE;MACxB,IAAI,CAACC,YAAW,GAAI,EAAE;IAC1B;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}