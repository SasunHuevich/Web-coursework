{"ast":null,"code":"import http from \"../../http-common\";\nexport default {\n  name: \"CreateQuiz\",\n  data() {\n    return {\n      quiz: {\n        id: null,\n        name: '',\n        description: '',\n        user_id: '',\n        image: null\n      },\n      successMessage: '',\n      errorMessage: ''\n    };\n  },\n  methods: {\n    handleImageUpload(event) {\n      this.quiz.image = event.target.files[0]; // сохраняем загруженное изображение\n    },\n    addQuiz(e) {\n      e.preventDefault(); // запрещаем отправку формы\n\n      const quizData = {\n        name: this.quiz.name,\n        description: this.quiz.description\n        // Если изображение пока не нужно, не отправляйте его\n      };\n      http.post(\"/addQuiz\", quizData, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        this.quiz.id = response.data.id;\n        this.successMessage = 'Викторина успешно создана!';\n        this.resetForm();\n      }).catch(error => {\n        this.errorMessage = 'Ошибка при создании викторины: ' + error.message;\n      });\n    },\n    resetForm() {\n      this.quiz = {\n        id: null,\n        name: '',\n        description: '',\n        user_id: '',\n        image: null\n      };\n      this.successMessage = '';\n      this.errorMessage = '';\n    }\n  }\n};","map":{"version":3,"names":["http","name","data","quiz","id","description","user_id","image","successMessage","errorMessage","methods","handleImageUpload","event","target","files","addQuiz","e","preventDefault","quizData","post","headers","then","response","resetForm","catch","error","message"],"sources":["C:\\Users\\Samedi\\Documents\\SecondProject\\SecondProject\\frontend\\src\\components\\quiz\\AddQuiz.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n      <h1 class=\"mb-4\">Создать новую викторину</h1>\r\n\r\n      <form @submit.prevent=\"addQuiz\" enctype=\"multipart/form-data\">\r\n          <div class=\"form-group mt-3\">\r\n              <label for=\"title\">Название</label>\r\n              <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  v-model=\"quiz.name\"\r\n                  placeholder=\"Введите название\"\r\n                  required\r\n              />\r\n          </div>\r\n\r\n          <div class=\"form-group mt-3\">\r\n              <label for=\"description\">Описание</label>\r\n              <textarea\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  v-model=\"quiz.description\"\r\n                  placeholder=\"Введите описание\"\r\n                  required\r\n              ></textarea>\r\n          </div>\r\n\r\n          <div class=\"form-group1 mt-3\">\r\n              <label for=\"image\">Изображение викторины</label>\r\n          </div>\r\n      \r\n          <div class=\"form-group\">\r\n              <input\r\n                  type=\"file\"\r\n                  class=\"form-control-file\"\r\n                  id=\"image\"\r\n                  @change=\"handleImageUpload\"\r\n                  accept=\"image/*\"\r\n                  required\r\n              />\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn btn-primary mt-4\">Create Quiz</button>\r\n\r\n          <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">{{ successMessage }}</div>\r\n          <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"../../http-common\";\r\nexport default {\r\n  name: \"CreateQuiz\",\r\n  data() {\r\n      return {\r\n          quiz: {\r\n            id: null,\r\n              name: '',\r\n              description: '',\r\n              user_id: '',\r\n              image: null\r\n          },\r\n          successMessage: '',\r\n          errorMessage: ''\r\n      };\r\n  },\r\n  methods: {\r\n    handleImageUpload(event) {\r\n        this.quiz.image = event.target.files[0]; // сохраняем загруженное изображение\r\n    },\r\n\r\n    addQuiz(e) {\r\n    e.preventDefault(); // запрещаем отправку формы\r\n    \r\n    const quizData = {\r\n        name: this.quiz.name,\r\n        description: this.quiz.description,\r\n        // Если изображение пока не нужно, не отправляйте его\r\n    };\r\n\r\n    http\r\n        .post(\"/addQuiz\", quizData, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(response => {\r\n            this.quiz.id = response.data.id;\r\n            this.successMessage = 'Викторина успешно создана!';\r\n            this.resetForm();\r\n        })\r\n        .catch(error => {\r\n            this.errorMessage = 'Ошибка при создании викторины: ' + error.message;\r\n        });\r\n},\r\n\r\n      resetForm() {\r\n          this.quiz = {\r\n            id: null,\r\n              name: '',\r\n              description: '',\r\n              user_id: '',\r\n              image: null\r\n          };\r\n          this.successMessage = '';\r\n          this.errorMessage = '';\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"AAoDA,OAAOA,IAAG,MAAO,mBAAmB;AACpC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACJC,EAAE,EAAE,IAAI;QACNH,IAAI,EAAE,EAAE;QACRI,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE;MACX,CAAC;MACDC,cAAc,EAAE,EAAE;MAClBC,YAAY,EAAE;IAClB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACT,IAAI,CAACI,KAAI,GAAIK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;IAC7C,CAAC;IAEDC,OAAOA,CAACC,CAAC,EAAE;MACXA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE;;MAEpB,MAAMC,QAAO,GAAI;QACbjB,IAAI,EAAE,IAAI,CAACE,IAAI,CAACF,IAAI;QACpBI,WAAW,EAAE,IAAI,CAACF,IAAI,CAACE;QACvB;MACJ,CAAC;MAEDL,IAAG,CACEmB,IAAI,CAAC,UAAU,EAAED,QAAQ,EAAE;QACxBE,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACnB,IAAI,CAACC,EAAC,GAAIkB,QAAQ,CAACpB,IAAI,CAACE,EAAE;QAC/B,IAAI,CAACI,cAAa,GAAI,4BAA4B;QAClD,IAAI,CAACe,SAAS,CAAC,CAAC;MACpB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACZ,IAAI,CAAChB,YAAW,GAAI,iCAAgC,GAAIgB,KAAK,CAACC,OAAO;MACzE,CAAC,CAAC;IACV,CAAC;IAEKH,SAASA,CAAA,EAAG;MACR,IAAI,CAACpB,IAAG,GAAI;QACVC,EAAE,EAAE,IAAI;QACNH,IAAI,EAAE,EAAE;QACRI,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE;MACX,CAAC;MACD,IAAI,CAACC,cAAa,GAAI,EAAE;MACxB,IAAI,CAACC,YAAW,GAAI,EAAE;IAC1B;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}