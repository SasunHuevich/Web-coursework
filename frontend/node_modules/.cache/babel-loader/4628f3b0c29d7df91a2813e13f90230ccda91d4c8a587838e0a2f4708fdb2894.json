{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"col-sm-8\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Записи о сессии\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/addSessionRecord\",\n  class: \"btn btn-success\"\n}, \"Добавить новую запись\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  border: \"1\",\n  class: \"table table-bordered table-striped mt-3\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"table-primary\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"№\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Группа\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Семестр\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Дисциплина\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Преподаватель\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Форма отчётности\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Дата\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Действие\")])], -1 /* HOISTED */);\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.sessionRecords, (el, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: el.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.student_group.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.semester), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.teacher_discipline.discipline.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.teacher_discipline.teacher.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.report_type.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(el.mark_date), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.deleteSessionRecord(el.id),\n      class: \"btn btn-danger\"\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_6)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","href","border","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","$data","sessionRecords","el","index","key","id","_toDisplayString","student_group","name","semester","teacher_discipline","discipline","teacher","report_type","mark_date","onClick","$event","$options","deleteSessionRecord","_hoisted_6"],"sources":["C:\\Users\\Samedi\\Documents\\SecondProject\\SecondProject\\frontend\\src\\components\\attestationBook\\ListSessionRecord.vue"],"sourcesContent":["<template>\r\n    <div class=\"col-sm-8\">\r\n      <h4>Записи о сессии</h4>\r\n      <a href=\"/addSessionRecord\" class=\"btn btn-success\">Добавить новую запись</a>\r\n      <table border=\"1\" class=\"table table-bordered table-striped mt-3\">\r\n        <thead class=\"table-primary\">\r\n          <tr>\r\n            <th>№</th>\r\n            <th>Группа</th>\r\n            <th>Семестр</th>\r\n            <th>Дисциплина</th>\r\n            <th>Преподаватель</th>\r\n            <th>Форма отчётности</th>\r\n            <th>Дата</th>\r\n            <th>Действие</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(el, index) in sessionRecords\" :key=\"el.id\">\r\n          <td>{{ index + 1 }}</td>\r\n          <td>{{ el.student_group.name }}</td>\r\n          <td>{{ el.semester }}</td>\r\n          <td>{{ el.teacher_discipline.discipline.name }}</td>\r\n          <td>{{ el.teacher_discipline.teacher.name }}</td>\r\n          <td>{{ el.report_type.name }}</td>\r\n          <td>{{ el.mark_date }}</td>\r\n          <td>\r\n            <button v-on:click=\"deleteSessionRecord(el.id)\" class=\"btn btn-danger\">Удалить</button>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    import http from \"../../http-common\";\r\n  \r\n    export default {\r\n      name: \"ListSessionRecord\",\r\n      data() {\r\n        return {\r\n          sessionRecords: []\r\n        };\r\n      },\r\n      methods: {\r\n        getSessionRecords() {\r\n          http\r\n              .get(\"/listSessionRecords\")\r\n              .then(response => {\r\n                this.sessionRecords = response.data;\r\n              })\r\n              .catch(e => {\r\n                console.log(e);\r\n              });\r\n        },\r\n        deleteSessionRecord(session_id) {\r\n          http\r\n              .post(\"/deleteSessionRecord/\" + session_id)\r\n              .then(() => {\r\n                this.getSessionRecords(); // обновляем список на странице\r\n              })\r\n              .catch(e => {\r\n                console.log(e);\r\n              });\r\n        }\r\n      },\r\n      mounted() {\r\n        this.getSessionRecords();\r\n      }\r\n    }\r\n  </script>"],"mappings":";;EACSA,KAAK,EAAC;AAAU;gCACnBC,mBAAA,CAAwB,YAApB,iBAAe;gCACnBA,mBAAA,CAA6E;EAA1EC,IAAI,EAAC,mBAAmB;EAACF,KAAK,EAAC;GAAkB,uBAAqB;;EAClEG,MAAM,EAAC,GAAG;EAACH,KAAK,EAAC;;gCACtBC,mBAAA,CAWQ;EAXDD,KAAK,EAAC;AAAe,I,aAC1BC,mBAAA,CASK,a,aARHA,mBAAA,CAAU,YAAN,GAAC,G,aACLA,mBAAA,CAAe,YAAX,QAAM,G,aACVA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAmB,YAAf,YAAU,G,aACdA,mBAAA,CAAsB,YAAlB,eAAa,G,aACjBA,mBAAA,CAAyB,YAArB,kBAAgB,G,aACpBA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAiB,YAAb,UAAQ,E;mBAdxB;;uBACIG,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJC,UAAwB,EACxBC,UAA6E,EAC7EN,mBAAA,CA2BQ,SA3BRO,UA2BQ,GA1BNC,UAWQ,EACRR,mBAAA,CAaQ,iB,kBAZRG,mBAAA,CAWKM,SAAA,QA7BbC,WAAA,CAkBkCC,KAAA,CAAAC,cAAc,EAlBhD,CAkBoBC,EAAE,EAAEC,KAAK;yBAArBX,mBAAA,CAWK;MAXsCY,GAAG,EAAEF,EAAE,CAACG;QACjDhB,mBAAA,CAAwB,YAAAiB,gBAAA,CAAjBH,KAAK,sBACZd,mBAAA,CAAoC,YAAAiB,gBAAA,CAA7BJ,EAAE,CAACK,aAAa,CAACC,IAAI,kBAC5BnB,mBAAA,CAA0B,YAAAiB,gBAAA,CAAnBJ,EAAE,CAACO,QAAQ,kBAClBpB,mBAAA,CAAoD,YAAAiB,gBAAA,CAA7CJ,EAAE,CAACQ,kBAAkB,CAACC,UAAU,CAACH,IAAI,kBAC5CnB,mBAAA,CAAiD,YAAAiB,gBAAA,CAA1CJ,EAAE,CAACQ,kBAAkB,CAACE,OAAO,CAACJ,IAAI,kBACzCnB,mBAAA,CAAkC,YAAAiB,gBAAA,CAA3BJ,EAAE,CAACW,WAAW,CAACL,IAAI,kBAC1BnB,mBAAA,CAA2B,YAAAiB,gBAAA,CAApBJ,EAAE,CAACY,SAAS,kBACnBzB,mBAAA,CAEK,aADHA,mBAAA,CAAuF;MAA1E0B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,mBAAmB,CAAChB,EAAE,CAACG,EAAE;MAAGjB,KAAK,EAAC;OAAiB,SAAO,iBA3B1F+B,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}