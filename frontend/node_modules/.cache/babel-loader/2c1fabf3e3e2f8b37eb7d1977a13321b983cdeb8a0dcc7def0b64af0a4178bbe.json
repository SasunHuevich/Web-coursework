{"ast":null,"code":"import http from \"../../http-common\";\nexport default {\n  name: \"CreateQuiz\",\n  data() {\n    return {\n      quiz: {\n        name: '',\n        description: '',\n        user_id: '',\n        image: null // Держатель для файла изображения\n      }\n    };\n  },\n  methods: {\n    // Обработчик загрузки файла\n    handleImageUpload(event) {\n      this.image = event.target.files[0];\n    },\n    addQuiz(e) {\n      e.preventDefault(); // запрет отправки формы, так как обрабатывать будем с помощью методов axios\n      var data = {\n        name: this.quiz.name,\n        description: this.description.name\n      };\n      // Либо var data = this.user;\n      http.post(\"/addQuiz\", data).then(response => {\n        // запрос выполнился успешно\n        this.quiz.id = response.data.id;\n      }).catch(e => {\n        // при выполнении запроса возникли ошибки\n        console.log(e);\n      });\n      this.submitted = true;\n    },\n    newQuiz() {\n      this.submitted = false;\n      this.discipline = {\n        id: null,\n        name: \"\"\n      };\n    }\n  }\n};","map":{"version":3,"names":["http","name","data","quiz","description","user_id","image","methods","handleImageUpload","event","target","files","addQuiz","e","preventDefault","post","then","response","id","catch","console","log","submitted","newQuiz","discipline"],"sources":["X:\\Downoloads\\SecondProject\\SecondProject\\frontend\\src\\components\\quiz\\AddQuiz.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h1 class=\"mb-4\">Создать новую викторину</h1>\r\n  \r\n      <form @submit.prevent=\"submitQuiz\" enctype=\"multipart/form-data\">\r\n        <!-- Название квиза -->\r\n        <div class=\"form-group mt-3\">\r\n          <label for=\"title\">Название</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"title\"\r\n            v-model=\"name\"\r\n            placeholder=\"Введите название\"\r\n            required\r\n          />\r\n        </div>\r\n  \r\n        <!-- Описание квиза -->\r\n        <div class=\"form-group mt-3\">\r\n          <label for=\"description\">Описание</label>\r\n          <textarea\r\n            class=\"form-control\"\r\n            id=\"description\"\r\n            v-model=\"description\"\r\n            placeholder=\"Введите описание\"\r\n            required\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group1 mt-3\">\r\n            <label for=\"image\">Изображение викторины</label>\r\n        </div>\r\n        \r\n        <!-- Загрузка изображения -->\r\n        <div class=\"form-group\">\r\n          \r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control-file\"\r\n            id=\"image\"\r\n            @change=\"handleImageUpload\"\r\n            accept=\"image/*\"\r\n            required\r\n          />\r\n        </div>\r\n  \r\n        <!-- Кнопка отправки -->\r\n        <button type=\"submit\" class=\"btn btn-primary mt-4\">Create Quiz</button>\r\n  \r\n        <!-- Сообщение об успехе -->\r\n        <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">{{ successMessage }}</div>\r\n        <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import http from \"../../http-common\";\r\n  export default {\r\n    name: \"CreateQuiz\",\r\n    data() {\r\n      return {\r\n        quiz: {\r\n            name: '',\r\n            description: '',\r\n            user_id: '',\r\n            image: null  // Держатель для файла изображения\r\n        }\r\n        \r\n      };\r\n    },\r\n    methods: {\r\n      // Обработчик загрузки файла\r\n      handleImageUpload(event) {\r\n        this.image = event.target.files[0];\r\n      },\r\n\r\n      addQuiz(e) {\r\n                e.preventDefault(); // запрет отправки формы, так как обрабатывать будем с помощью методов axios\r\n                var data = {\r\n                    name: this.quiz.name,\r\n                    description: this.description.name\r\n                };\r\n                // Либо var data = this.user;\r\n                http\r\n                    .post(\"/addQuiz\", data)\r\n                    .then(response => { // запрос выполнился успешно\r\n                        this.quiz.id = response.data.id;\r\n                    })\r\n                    .catch(e => { // при выполнении запроса возникли ошибки\r\n                        console.log(e);\r\n                    });\r\n\r\n                this.submitted = true;\r\n            },\r\n            newQuiz() {\r\n                this.submitted = false;\r\n                this.discipline = {\r\n                    id: null,\r\n                    name: \"\"\r\n                };\r\n            }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  h1 {\r\n    text-align: center;\r\n  }\r\n  </style>\r\n  "],"mappings":"AA0DE,OAAOA,IAAG,MAAO,mBAAmB;AACpC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACFF,IAAI,EAAE,EAAE;QACRG,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE,IAAG,CAAG;MACjB;IAEF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,iBAAiBA,CAACC,KAAK,EAAE;MACvB,IAAI,CAACH,KAAI,GAAIG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACpC,CAAC;IAEDC,OAAOA,CAACC,CAAC,EAAE;MACDA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAE;MACpB,IAAIZ,IAAG,GAAI;QACPD,IAAI,EAAE,IAAI,CAACE,IAAI,CAACF,IAAI;QACpBG,WAAW,EAAE,IAAI,CAACA,WAAW,CAACH;MAClC,CAAC;MACD;MACAD,IAAG,CACEe,IAAI,CAAC,UAAU,EAAEb,IAAI,EACrBc,IAAI,CAACC,QAAO,IAAK;QAAE;QAChB,IAAI,CAACd,IAAI,CAACe,EAAC,GAAID,QAAQ,CAACf,IAAI,CAACgB,EAAE;MACnC,CAAC,EACAC,KAAK,CAACN,CAAA,IAAK;QAAE;QACVO,OAAO,CAACC,GAAG,CAACR,CAAC,CAAC;MAClB,CAAC,CAAC;MAEN,IAAI,CAACS,SAAQ,GAAI,IAAI;IACzB,CAAC;IACDC,OAAOA,CAAA,EAAG;MACN,IAAI,CAACD,SAAQ,GAAI,KAAK;MACtB,IAAI,CAACE,UAAS,GAAI;QACdN,EAAE,EAAE,IAAI;QACRjB,IAAI,EAAE;MACV,CAAC;IACL;EACR;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}