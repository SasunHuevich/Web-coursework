{"ast":null,"code":"import http from \"../../http-common\";\nexport default {\n  name: \"ListSessionRecord\",\n  data() {\n    return {\n      sessionRecords: []\n    };\n  },\n  methods: {\n    getSessionRecords() {\n      http.get(\"/listSessionRecords\").then(response => {\n        this.sessionRecords = response.data;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    deleteSessionRecord(session_id) {\n      http.post(\"/deleteSessionRecord/\" + session_id).then(() => {\n        this.getSessionRecords(); // обновляем список на странице\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    this.getSessionRecords();\n  }\n};","map":{"version":3,"names":["http","name","data","sessionRecords","methods","getSessionRecords","get","then","response","catch","e","console","log","deleteSessionRecord","session_id","post","mounted"],"sources":["X:\\Downoloads\\SecondProject\\SecondProject\\frontend\\src\\components\\attestationBook\\ListSessionRecord.vue"],"sourcesContent":["<template>\r\n    <div class=\"col-sm-8\">\r\n      <h4>Записи о сессии</h4>\r\n      <a href=\"/addSessionRecord\" class=\"btn btn-success\">Добавить новую запись</a>\r\n      <table border=\"1\" class=\"table table-bordered table-striped mt-3\">\r\n        <thead class=\"table-primary\">\r\n          <tr>\r\n            <th>№</th>\r\n            <th>Группа</th>\r\n            <th>Семестр</th>\r\n            <th>Дисциплина</th>\r\n            <th>Преподаватель</th>\r\n            <th>Форма отчётности</th>\r\n            <th>Дата</th>\r\n            <th>Действие</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(el, index) in sessionRecords\" :key=\"el.id\">\r\n          <td>{{ index + 1 }}</td>\r\n          <td>{{ el.student_group.name }}</td>\r\n          <td>{{ el.semester }}</td>\r\n          <td>{{ el.teacher_discipline.discipline.name }}</td>\r\n          <td>{{ el.teacher_discipline.teacher.name }}</td>\r\n          <td>{{ el.report_type.name }}</td>\r\n          <td>{{ el.mark_date }}</td>\r\n          <td>\r\n            <button v-on:click=\"deleteSessionRecord(el.id)\" class=\"btn btn-danger\">Удалить</button>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    import http from \"../../http-common\";\r\n  \r\n    export default {\r\n      name: \"ListSessionRecord\",\r\n      data() {\r\n        return {\r\n          sessionRecords: []\r\n        };\r\n      },\r\n      methods: {\r\n        getSessionRecords() {\r\n          http\r\n              .get(\"/listSessionRecords\")\r\n              .then(response => {\r\n                this.sessionRecords = response.data;\r\n              })\r\n              .catch(e => {\r\n                console.log(e);\r\n              });\r\n        },\r\n        deleteSessionRecord(session_id) {\r\n          http\r\n              .post(\"/deleteSessionRecord/\" + session_id)\r\n              .then(() => {\r\n                this.getSessionRecords(); // обновляем список на странице\r\n              })\r\n              .catch(e => {\r\n                console.log(e);\r\n              });\r\n        }\r\n      },\r\n      mounted() {\r\n        this.getSessionRecords();\r\n      }\r\n    }\r\n  </script>"],"mappings":"AAoCI,OAAOA,IAAG,MAAO,mBAAmB;AAEpC,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAAA,EAAG;MAClBL,IAAG,CACEM,GAAG,CAAC,qBAAqB,EACzBC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACL,cAAa,GAAIK,QAAQ,CAACN,IAAI;MACrC,CAAC,EACAO,KAAK,CAACC,CAAA,IAAK;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MAChB,CAAC,CAAC;IACR,CAAC;IACDG,mBAAmBA,CAACC,UAAU,EAAE;MAC9Bd,IAAG,CACEe,IAAI,CAAC,uBAAsB,GAAID,UAAU,EACzCP,IAAI,CAAC,MAAM;QACV,IAAI,CAACF,iBAAiB,CAAC,CAAC,EAAE;MAC5B,CAAC,EACAI,KAAK,CAACC,CAAA,IAAK;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MAChB,CAAC,CAAC;IACR;EACF,CAAC;EACDM,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,iBAAiB,CAAC,CAAC;EAC1B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}